From e3284b3757dc13b66ed883fd4fe6a4ed10093a41 Mon Sep 17 00:00:00 2001
From: shucheng <shucheng@bd-apaas.com>
Date: Fri, 7 Jul 2023 09:50:10 +0800
Subject: [PATCH] ui 18n zh

---
 src/components/App/WelcomeScreen.tsx          |  6 ++--
 src/components/FlowsTable/ColumnsSelector.tsx |  2 +-
 src/components/FlowsTable/Sidebar.tsx         | 30 +++++++++----------
 src/components/FlowsTable/general.ts          | 22 +++++++-------
 src/components/TopBar/ConnectionIndicator.tsx |  6 ++--
 src/components/TopBar/FlowsFilterInput.tsx    |  6 ++--
 .../TopBar/NamespaceSelectorDropdown.tsx      |  6 ++--
 .../TopBar/VerdictFilterDropdown.tsx          |  6 ++--
 .../TopBar/VisualFiltersDropdown.tsx          | 12 ++++----
 9 files changed, 47 insertions(+), 49 deletions(-)

diff --git a/src/components/App/WelcomeScreen.tsx b/src/components/App/WelcomeScreen.tsx
index 30b3f650..01bc8abb 100644
--- a/src/components/App/WelcomeScreen.tsx
+++ b/src/components/App/WelcomeScreen.tsx
@@ -18,10 +18,8 @@ export const WelcomeScreen = observer(function WelcomeScreen(props: Props) {
     <div className={css.wrapper}>
       <div className={css.content}>
         <img src={hubbleLogo} className={css.logo} />
-        <h1 className={css.title}>Welcome!</h1>
-        <p className={css.description}>
-          To begin select one of the namespaces:
-        </p>
+        <h1 className={css.title}>网络流量</h1>
+        <p className={css.description}>从选择一个Namespace开始:</p>
         {someNamespacesLoaded ? (
           <ul className={css.namespacesList}>
             {props.namespaces.map(namespace => (
diff --git a/src/components/FlowsTable/ColumnsSelector.tsx b/src/components/FlowsTable/ColumnsSelector.tsx
index cbd11fc9..6ff328d6 100644
--- a/src/components/FlowsTable/ColumnsSelector.tsx
+++ b/src/components/FlowsTable/ColumnsSelector.tsx
@@ -29,7 +29,7 @@ export const FlowsTableColumnsSelector = memo<Props>(
           small
           minimal
           rightIcon="chevron-down"
-          text="Columns"
+          text="选择列"
           onClick={popover.toggle}
         />
       </Popover>
diff --git a/src/components/FlowsTable/Sidebar.tsx b/src/components/FlowsTable/Sidebar.tsx
index 15968c53..ab4dfa65 100644
--- a/src/components/FlowsTable/Sidebar.tsx
+++ b/src/components/FlowsTable/Sidebar.tsx
@@ -286,7 +286,7 @@ export const FlowsTableSidebar = memo<Props>(function FlowsTableSidebar(props) {
         <Icon className={css.close} icon="cross" onClick={props.onClose} />
       </header>
       <section className={css.block}>
-        <span className={css.title}>Timestamp</span>
+        <span className={css.title}>时间戳</span>
         <div className={css.body}>{flow.isoTimestamp}</div>
       </section>
       <section className={css.block}>
@@ -301,23 +301,23 @@ export const FlowsTableSidebar = memo<Props>(function FlowsTableSidebar(props) {
       </section>
       {flow.verdict === Verdict.Dropped && (
         <section className={css.block}>
-          <span className={css.title}>Drop reason</span>
+          <span className={css.title}>丢弃原因</span>
           <div className={css.body}>{flow.dropReason}</div>
         </section>
       )}
       <section className={css.block}>
-        <span className={css.title}>Traffic direction</span>
+        <span className={css.title}>流量方向</span>
         <div className={css.body}>{flow.trafficDirectionLabel}</div>
       </section>
       {flow.ciliumEventSubTypeLabel && (
         <section className={css.block}>
-          <span className={css.title}>Cilium event type</span>
+          <span className={css.title}>Cilium 事件类型</span>
           <div className={css.body}>{flow.ciliumEventSubTypeLabel}</div>
         </section>
       )}
       {flow.enabledTcpFlags.length > 0 && (
         <section className={css.block}>
-          <span className={css.title}>TCP flags</span>
+          <span className={css.title}>TCP 标记</span>
           <div className={css.body}>
             <TCPFlagsEntry
               flags={flow.enabledTcpFlags}
@@ -331,7 +331,7 @@ export const FlowsTableSidebar = memo<Props>(function FlowsTableSidebar(props) {
       <hr />
       {flow.hasSource && flow.sourcePodName && (
         <section className={css.block}>
-          <span className={css.title}>Source pod</span>
+          <span className={css.title}>源 pod</span>
           <div className={css.body}>
             <PodEntry
               podSelector={flow.sourcePodSelector}
@@ -343,7 +343,7 @@ export const FlowsTableSidebar = memo<Props>(function FlowsTableSidebar(props) {
       )}
       {flow.hasSource && typeof flow.sourceIdentity === 'number' && (
         <section className={css.block}>
-          <span className={css.title}>Source identity</span>
+          <span className={css.title}>源 identity</span>
           <div className={css.body}>
             <IdentityEntry
               identity={flow.sourceIdentity}
@@ -355,7 +355,7 @@ export const FlowsTableSidebar = memo<Props>(function FlowsTableSidebar(props) {
       )}
       {flow.hasSource && flow.sourceLabels.length > 0 && (
         <section className={css.block}>
-          <span className={css.title}>Source labels</span>
+          <span className={css.title}>源 labels</span>
           <div className={css.body}>
             <LabelsEntry
               labels={flow.sourceLabels}
@@ -367,7 +367,7 @@ export const FlowsTableSidebar = memo<Props>(function FlowsTableSidebar(props) {
       )}
       {flow.hasSource && flow.sourceIp && (
         <section className={css.block}>
-          <span className={css.title}>Source IP</span>
+          <span className={css.title}>源 IP</span>
           <div className={css.body}>
             <IPEntry
               ip={flow.sourceIp}
@@ -380,7 +380,7 @@ export const FlowsTableSidebar = memo<Props>(function FlowsTableSidebar(props) {
       <hr />
       {flow.hasDestination && flow.destinationPodName && (
         <section className={css.block}>
-          <span className={css.title}>Destination pod</span>
+          <span className={css.title}>目标 pod</span>
           <div className={css.body}>
             <PodEntry
               podSelector={flow.destinationPodSelector}
@@ -392,7 +392,7 @@ export const FlowsTableSidebar = memo<Props>(function FlowsTableSidebar(props) {
       )}
       {flow.hasDestination && typeof flow.destinationIdentity === 'number' && (
         <section className={css.block}>
-          <span className={css.title}>Destination identity</span>
+          <span className={css.title}>目标 identity</span>
           <div className={css.body}>
             <IdentityEntry
               identity={flow.destinationIdentity}
@@ -404,7 +404,7 @@ export const FlowsTableSidebar = memo<Props>(function FlowsTableSidebar(props) {
       )}
       {flow.hasDestination && flow.destinationLabels.length > 0 && (
         <section className={css.block}>
-          <span className={css.title}>Destination labels</span>
+          <span className={css.title}>目标 labels</span>
           <div className={css.body}>
             <LabelsEntry
               labels={flow.destinationLabels}
@@ -416,7 +416,7 @@ export const FlowsTableSidebar = memo<Props>(function FlowsTableSidebar(props) {
       )}
       {flow.hasDestination && flow.destinationIp && (
         <section className={css.block}>
-          <span className={css.title}>Destination IP</span>
+          <span className={css.title}>目标 IP</span>
           <div className={css.body}>
             <IPEntry
               ip={flow.destinationIp}
@@ -428,7 +428,7 @@ export const FlowsTableSidebar = memo<Props>(function FlowsTableSidebar(props) {
       )}
       {flow.hasDestination && flow.destinationDns && (
         <section className={css.block}>
-          <span className={css.title}>Destination DNS</span>
+          <span className={css.title}>目标 DNS</span>
           <div className={css.body}>
             <DnsBodyItem
               dns={flow.destinationDns}
@@ -441,7 +441,7 @@ export const FlowsTableSidebar = memo<Props>(function FlowsTableSidebar(props) {
       {flow.hasDestination && flow.protocol && (
         <section className={css.block}>
           <span className={css.title}>
-            Destination {!isICMPProtocol && 'port • '}protocol
+            Destination {!isICMPProtocol && 'port • '}protocol(网络协议)
           </span>
           <div className={css.body}>
             {flow.destinationPort && `${flow.destinationPort} • `}
diff --git a/src/components/FlowsTable/general.ts b/src/components/FlowsTable/general.ts
index 68feeaae..5e013015 100644
--- a/src/components/FlowsTable/general.ts
+++ b/src/components/FlowsTable/general.ts
@@ -3,17 +3,17 @@ export interface CommonProps {
 }
 
 export enum Column {
-  SrcPod = 'Source Pod',
-  SrcIp = 'Source IP',
-  SrcService = 'Source Service',
-  DstPod = 'Destination Pod',
-  DstIp = 'Destination IP',
-  DstService = 'Destination Service',
-  DstPort = 'Destination Port',
-  L7Info = 'L7 info',
-  Verdict = 'Verdict',
-  TcpFlags = 'TCP Flags',
-  Timestamp = 'Timestamp',
+  SrcPod = '源 Pod',
+  SrcIp = '源 IP',
+  SrcService = '源 Service',
+  DstPod = '目标 Pod',
+  DstIp = '目标 IP',
+  DstService = '目标 Service',
+  DstPort = '目标 Port',
+  L7Info = 'L7 信息',
+  Verdict = '流向判断',
+  TcpFlags = 'TCP 标记',
+  Timestamp = '时间戳',
 }
 
 export enum TickerEvents {
diff --git a/src/components/TopBar/ConnectionIndicator.tsx b/src/components/TopBar/ConnectionIndicator.tsx
index afa28139..6d967524 100644
--- a/src/components/TopBar/ConnectionIndicator.tsx
+++ b/src/components/TopBar/ConnectionIndicator.tsx
@@ -84,12 +84,12 @@ const generateStatusLabel = (st: Status): React.ReactNode => {
     fps < 1e3 ? [1, ''] : fps < 1e6 ? [1e3, 'K'] : [1e6, 'M'];
 
   const flowsRate = numberSep(`${(fps / factor).toFixed(1)}${letter}`);
-  const flowsLabel = `${flowsRate} flows/s`;
-  const flowsTitle = `${numberSep(fps.toFixed(1))} flows/s`;
+  const flowsLabel = `${flowsRate} 数据流/每秒`;
+  const flowsTitle = `${numberSep(fps.toFixed(1))} 数据流/每秒`;
 
   const nTotalNodes = st.nodes.length;
   const nAvailable = st.nodes.filter(n => n.isAvailable).length;
-  const nodesLabel = `${nAvailable}/${nTotalNodes} nodes`;
+  const nodesLabel = `${nAvailable}/${nTotalNodes} 节点`;
 
   return (
     <>
diff --git a/src/components/TopBar/FlowsFilterInput.tsx b/src/components/TopBar/FlowsFilterInput.tsx
index 297fd787..842eee79 100644
--- a/src/components/TopBar/FlowsFilterInput.tsx
+++ b/src/components/TopBar/FlowsFilterInput.tsx
@@ -39,7 +39,7 @@ export const FlowsFilterInput = (props: Props) => {
         <MenuItem
           onClick={handleClick}
           active={active}
-          text={`Search "${query}"`}
+          text={`查询 "${query}"`}
           icon="search"
         />
       );
@@ -99,14 +99,14 @@ export const FlowsFilterInput = (props: Props) => {
         openOnTargetFocus: false,
       }}
       resetOnSelect={true}
-      noResults={<MenuItem disabled={true} text="No results." />}
+      noResults={<MenuItem disabled={true} text="暂无数据." />}
       tagInputProps={{
         onRemove: handleTagDelete,
         tagProps: { minimal: true },
         rightElement: rightElement,
         className: Classes.INPUT,
         placeholder:
-          'Filter by: label key=val, ip=1.1.1.1, dns=google.com, identity=42, pod=frontend',
+          '过滤器: label key=val, ip=1.1.1.1, dns=google.com, identity=42, pod=frontend',
       }}
     />
   );
diff --git a/src/components/TopBar/NamespaceSelectorDropdown.tsx b/src/components/TopBar/NamespaceSelectorDropdown.tsx
index fcd06614..aa14194d 100644
--- a/src/components/TopBar/NamespaceSelectorDropdown.tsx
+++ b/src/components/TopBar/NamespaceSelectorDropdown.tsx
@@ -59,7 +59,7 @@ export const NamespaceSelectorDropdown = memo<Props>(
         ? currentNamespace
         : currentNamespace
         ? `Waiting ${currentNamespace} namespace…`
-        : 'Choose namespace';
+        : '选择 Namespace';
 
     return (
       <NamespaceSelect
@@ -69,10 +69,10 @@ export const NamespaceSelectorDropdown = memo<Props>(
         itemPredicate={filterItem}
         itemRenderer={renderItem}
         items={namespaces || []}
-        noResults={<MenuItem disabled={true} text="No matches" />}
+        noResults={<MenuItem disabled={true} text="无结果" />}
         onItemSelect={onChange}
         popoverProps={popover.props}
-        inputProps={{ placeholder: 'Filter namespaces…' }}
+        inputProps={{ placeholder: '查询 namespaces…' }}
       >
         <Button
           rightIcon="caret-down"
diff --git a/src/components/TopBar/VerdictFilterDropdown.tsx b/src/components/TopBar/VerdictFilterDropdown.tsx
index ee82fba2..b8cab18c 100644
--- a/src/components/TopBar/VerdictFilterDropdown.tsx
+++ b/src/components/TopBar/VerdictFilterDropdown.tsx
@@ -24,15 +24,15 @@ interface FilterOption {
 const filters: FilterOption[] = [
   {
     verdict: null,
-    title: 'Any verdict',
+    title: '所有',
   },
   {
     verdict: Verdict.Forwarded,
-    title: 'Forwarded',
+    title: '进站方向',
   },
   {
     verdict: Verdict.Dropped,
-    title: 'Dropped',
+    title: '已丢弃',
   },
 ];
 
diff --git a/src/components/TopBar/VisualFiltersDropdown.tsx b/src/components/TopBar/VisualFiltersDropdown.tsx
index 6ffdf984..a383cdb9 100644
--- a/src/components/TopBar/VisualFiltersDropdown.tsx
+++ b/src/components/TopBar/VisualFiltersDropdown.tsx
@@ -40,7 +40,7 @@ export const VisualFiltersDropdown = memo<Props>(function VisualFiltersDropdown(
         text={
           <Checkbox
             checked={!props.showHost}
-            label="Hide host service"
+            label="隐藏 host service"
             onChange={props.onShowHostToggle}
           />
         }
@@ -50,7 +50,7 @@ export const VisualFiltersDropdown = memo<Props>(function VisualFiltersDropdown(
         text={
           <Checkbox
             checked={!props.showKubeDns}
-            label="Hide kube-dns:53 pod"
+            label="隐藏 kube-dns:53 pod"
             onChange={props.onShowKubeDnsToggle}
           />
         }
@@ -60,7 +60,7 @@ export const VisualFiltersDropdown = memo<Props>(function VisualFiltersDropdown(
         text={
           <Checkbox
             checked={!props.showKubeApiServer}
-            label="Hide kube-apiserver"
+            label="隐藏 kube-apiserver"
             onChange={props.onShowKubeApiServerToggle}
           />
         }
@@ -70,7 +70,7 @@ export const VisualFiltersDropdown = memo<Props>(function VisualFiltersDropdown(
         text={
           <Checkbox
             checked={!props.showRemoteNode}
-            label="Hide remote node"
+            label="隐藏 remote node"
             onChange={props.onShowRemoteNodeToggle}
           />
         }
@@ -80,7 +80,7 @@ export const VisualFiltersDropdown = memo<Props>(function VisualFiltersDropdown(
         text={
           <Checkbox
             checked={!props.showPrometheusApp}
-            label="Hide prometheus app"
+            label="隐藏 prometheus app"
             onChange={props.onShowPrometheusAppToggle}
           />
         }
@@ -92,7 +92,7 @@ export const VisualFiltersDropdown = memo<Props>(function VisualFiltersDropdown(
     <Popover {...popover.props} content={content}>
       <FilterIcon
         icon={<VisualIcon />}
-        text="Visual"
+        text="显示"
         onClick={popover.toggle}
         className={classnames({
           [css.visualFilterEnabled]: enabled,
-- 
2.39.2

